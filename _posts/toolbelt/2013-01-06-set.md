---
layout: post
template: two-col
title:  "Stack settings"
date:   2013-01-25 01:01:01
categories: toolbelt
lead: Change stack settings from the commandline
---

The `settings` command will list the possible settings for a specific stack that can be changed with the set command.

{% highlight bash %}
$ c66 settings --stack STACK_UID
{% endhighlight %}

## Usage
{% highlight bash %}
$ c66 set --stack STACK_UID --setting_name SETTING_NAME --value VALUE
{% endhighlight %}

<h3>Parameters</h3>
* <b>stack</b> - UID of the stack (alias: <i>s</i>)
* <b>setting_name</b> - any valid setting (see below) (alias: <i>n</i>)
* <b>value</b> - a valid value for the setting (alias: <i>v</i>)

<h3>Valid settings</h3>
* `git.branch` - Git branch of the stack repository.
* `git.repository` - Git repository URL.
* `reconfigure.nginx` - If set to true, it will regenerate nginx configuration and restart it.
* `allowed.web.source` - Allowed addresses that can access to stack's web servers

<h3>Example</h3>
{% highlight bash %}
$ c66 set --stack ba89f0edfa254d46ba9e15920e7f69be --setting_name git.branch --value master
{% endhighlight %}

{% highlight bash %}
$ c66 set -s ba89f0edfa254d46ba9e15920e7f69be -n git.branch -v master
{% endhighlight %}

<h3>Changing git settings</h3>
If you change the stack git parameters, you may need to delete the `$BASE_PATH/shared/cached-copy` folder on your servers before the next deployment.

<h3>Reconfiguring Nginx</h3>
The `reconfigure.nginx` setting is restricted to only affect the next deployment. It can only be set to `true` and will be reset back to `false` after the next deployment.

Setting it to true will force the deployment process to regenerate the Nginx settings. This can be useful when you change an Nginx-related setting in your [manifest file](/stack-features/manifest-files.html), like enabling _Perfect Forward Secrecy_.

<h3>Limit access to web servers</h3>
You can set the addresses that can access to your web servers by changing the value of `allowed.web.source`. Default value is empty and you can set a csv ip list as value

<h3>Example</h3>
{% highlight bash %}
$ c66 set --stack ba89f0edfa254d46ba9e15920e7f69be --setting_name allowed.web.source --value 10.10.1.4/24,23.12.1.4
{% endhighlight %}
